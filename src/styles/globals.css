@import "tailwindcss";

/* ====== Tokens ====== */
:root {
  /* Dark (تنها تم موجود) */
  --bg: #0f1114;
  --surface: #171a1f;
  --border: #262b33;
  --text: #eaecf0;
  --text-muted: #a9afb8;

  --brand-900: #16181d;
  --brand-800: #1f232a;
  --brand-500: #8f98a4;

  /* Accents */
  --accent-hot: #ff8247;  /* CTA */
  --accent-cool: #7fb3ff; /* Links/hover */

  /* Grid/Decor */
  --grid-line: rgba(255,255,255,.10);
  --grid-gap: 56px;

  /* Hero soft glow (dark) */
  --hero-glow: radial-gradient(
    80% 60% at 50% -10%,
    rgba(127,179,255,.20),
    rgba(140,120,255,.12) 40%,
    transparent 65%
  );
  --hero-arch: radial-gradient(
    120% 80% at 50% 0%,
    rgba(0,0,0,.40),
    transparent 60%
  );

  view-transition-name: root;
}

/* Tailwind mappings */
@theme {
  --color-bg: var(--bg);
  --color-surface: var(--surface);
  --color-border: var(--border);
  --color-text: var(--text);
  --color-text-muted: var(--text-muted);

  --color-brand-900: var(--brand-900);
  --color-brand-800: var(--brand-800);
  --color-brand-500: var(--brand-500);

  --color-accent-hot: var(--accent-hot);
  --color-accent-cool: var(--accent-cool);

  --color-grid-line: var(--grid-line);
}

/* ====== Transitions / view transitions ====== */
@theme inline {
  --animate-cell-ripple: cell-ripple var(--duration, 200ms) ease-out none 1 var(--delay, 0ms);
  @keyframes cell-ripple {
    0% { opacity:.35 }
    50% { opacity:.8 }
    100% { opacity:.35 }
  }
}

::view-transition-old(root){
  animation: locale-fade-out 180ms ease forwards;
}
::view-transition-new(root){
  animation: locale-fade-in 220ms ease 60ms forwards;
}
@keyframes locale-fade-out {
  from { opacity:1; transform:none }
  to   { opacity:0; transform:scale(.995) }
}
@keyframes locale-fade-in {
  from { opacity:0; transform:scale(.995) }
  to   { opacity:1; transform:none }
}

/* ====== Base ====== */
*{
  transition: background-color .35s ease,
              color .35s ease,
              border-color .35s ease;
}
html, body {
  width:100%;
  max-width:100%;
  overflow-x:hidden;
}
html[lang="fa"] body{
  direction:rtl;
  font-family:var(--font-fa), ui-sans-serif, system-ui, -apple-system,
               "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html[lang="en"] body{
  direction:ltr;
  font-family:var(--font-en), ui-sans-serif, system-ui, -apple-system,
               "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
body {
  background:var(--bg);
  color:var(--text);
  min-height:100dvh;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* ====== Utilities for the hero ====== */

/* Glass card / nav */
.glass {
  background: color-mix(in oklab, var(--surface) 65%, transparent);
  backdrop-filter: saturate(120%) blur(12px);
  -webkit-backdrop-filter: saturate(120%) blur(12px);
}

/* Grid background */
.bg-grid {
  --gap: var(--grid-gap);
  --line: 1px;
  --c: var(--grid-line);
  background-image:
    linear-gradient(-90deg, transparent calc(var(--gap) - var(--line)),
      var(--c) calc(var(--gap) - var(--line) + 1px), var(--c) var(--gap)),
    linear-gradient(0deg, transparent calc(var(--gap) - var(--line)),
      var(--c) calc(var(--gap) - var(--line) + 1px), var(--c) var(--gap));
  background-size: var(--gap) var(--gap);
}

/* Soft glow + arch mask for hero top */
.hero-glow { background: var(--hero-glow); }
.hero-arch { mask-image: var(--hero-arch); -webkit-mask-image: var(--hero-arch); }

/* CTA buttons */
.btn-primary {
  @apply inline-flex items-center gap-2 rounded-full sm:px-6 sm:py-3 px-3 py-1.5 sm:text-sm text-xs font-medium;
  color: oklch(22% 0.03 264);
  background: var(--accent-hot);
  box-shadow: 0 8px 24px color-mix(in oklab, var(--accent-hot) 45%, transparent);
}
.btn-primary:hover {
  filter: brightness(1.05);
  transform: translateY(-1px);
}
.btn-secondary {
  @apply inline-flex items-center gap-2 rounded-full sm:px-6 sm:py-3 px-3 py-1.5 sm:text-sm text-xs font-medium border;
  border-color: color-mix(in oklab, var(--accent-cool) 35%, var(--border));
  color: var(--text);
  background: color-mix(in oklab, var(--surface) 75%, transparent);
}

/* Small floating tags */
.pill {
  @apply rounded-full text-xs px-3 py-1 border;
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  border-color: color-mix(in oklab, var(--brand-500) 40%, var(--border));

  /* افکت Glow */
  box-shadow:
    0 0 8px color-mix(in oklab, var(--accent-cool) 50%, transparent),
    0 0 16px color-mix(in oklab, var(--accent-cool) 30%, transparent);
}
.pill:hover {
  box-shadow:
    0 0 10px color-mix(in oklab, var(--accent-hot) 100%, transparent),
    0 0 20px color-mix(in oklab, var(--accent-hot) 80%, transparent);
}


/* Fade bottom mask for fixed hero background */
.mask-bottom-soft{
  -webkit-mask-image: linear-gradient(to bottom, black 78%, transparent 100%);
  mask-image: linear-gradient(to bottom, black 78%, transparent 100%);
}

/* نیم‌دایره با قطر در بالا؛ فقط داخل این شکل دیده می‌شه */
.hero-arch-clip{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 0;

  /* سایز بزرگ مثل رفرنس */
  width: 180vw;
  height: clamp(420px, 60vh, 720px);

  /* این دقیقا نیم‌دایره‌ایه که می‌خوای: کاسه رو به پایین و قطر در بالا */
  clip-path: ellipse(50% 100% at 50% 0);

  /* پر/هاله‌ی داخل نیم‌دایره (واضح و قابل دیدن) */
  background:
    linear-gradient(to bottom,
      rgba(0,0,0,.42) 0%,
      rgba(0,0,0,.28) 24%,
      rgba(0,0,0,.14) 44%,
      rgba(0,0,0,0) 68%
    );
}

/* ====== Background Gradient Animation (Tailwind v4 @theme inline) ====== */
@theme inline {
  --animate-first: moveVertical 30s ease infinite;
  --animate-second: moveInCircle 20s reverse infinite;
  --animate-third: moveInCircle 40s linear infinite;
  --animate-fourth: moveHorizontal 40s ease infinite;
  --animate-fifth: moveInCircle 20s ease infinite;

  @keyframes moveHorizontal {
    0% { transform: translateX(-50%) translateY(-10%); }
    50% { transform: translateX(50%) translateY(10%); }
    100% { transform: translateX(-50%) translateY(-10%); }
  }

  @keyframes moveInCircle {
    0% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes moveVertical {
    0% { transform: translateY(-50%); }
    50% { transform: translateY(50%); }
    100% { transform: translateY(-50%); }
  }
}
